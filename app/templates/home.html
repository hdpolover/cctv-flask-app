{% extends "layouts/base.html" %}

{% block title %}Beranda - Penghitung Orang CCTV{% endblock %}

{% block extra_head %}
<script src="{{ url_for('static', filename='js/video-feed.js') }}"></script>
{% endblock %}

{% block content %}
<div class="home-container">
    <h1>Live Feed CCTV</h1>
    <div class="video-container">
        <img src="{{ url_for('main.video_feed') }}" id="video-feed" alt="Feed Video">
    </div>
    <div class="counter">
        <h3>Penghitung Orang</h3>
        <p id="people-count">Orang di ruangan: {{ people_in_room }}</p>
    </div>
    <div class="movement-counter">
        <h3>Penghitung Pergerakan</h3>
        <p class="entries">Masuk: {{ entries }}</p>
        <p class="exits">Keluar: {{ exits }}</p>
    </div>
    {% if not door_defined %}
    <div class="alert alert-warning">
        <p>⚠️ Area pintu belum didefinisikan. Menggunakan garis tengah untuk deteksi.</p>
        <p>Pergi ke <a href="{{ url_for('main.camera_settings') }}">Pengaturan Kamera</a> untuk mendefinisikan area pintu.</p>
    </div>
    {% endif %}
</div>
{% endblock %}