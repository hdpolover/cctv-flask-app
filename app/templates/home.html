{% extends "layouts/base.html" %}

{% block title %}Home - CCTV People Counter{% endblock %}

{% block extra_head %}
<script src="{{ url_for('static', filename='js/video-feed.js') }}"></script>
{% endblock %}

{% block content %}
<div class="home-container">
    <h1>Live CCTV Feed</h1>
    <div class="video-container">
        <img src="{{ url_for('main.video_feed') }}" id="video-feed" alt="Video Feed">
    </div>
    <div class="counter">
        <h3>People Counter</h3>
        <p id="people-count">People in the room: {{ people_in_room }}</p>
    </div>
    <div class="movement-counter">
        <h3>Movement Counter</h3>
        <p class="entries">Entries: {{ entries }}</p>
        <p class="exits">Exits: {{ exits }}</p>
    </div>
    {% if not door_defined %}
    <div class="alert alert-warning">
        <p>⚠️ Door area not defined. Using center line for detection.</p>
        <p>Go to <a href="{{ url_for('main.camera_settings') }}">Camera Settings</a> to define a door area.</p>
    </div>
    {% endif %}
</div>
{% endblock %}